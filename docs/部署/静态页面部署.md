---
title: é™æ€é¡µé¢éƒ¨ç½²
---

## å¯¼è¨€
é™æ€é¡µé¢éƒ¨ç½²çš„æ•™ç¨‹ç½‘ä¸Šå¾ˆå¤šï¼Œæˆ‘ä¹Ÿæ˜¯å‚ç…§ç½‘ä¸Šçš„æ•™ç¨‹ä»¥åŠæ…•è¯¾ç½‘ Brian è€å¸ˆçš„è§†é¢‘æ•™ç¨‹æŠŠè¿™ä¸ªvuepress blogéƒ¨ç½²æˆåŠŸçš„ï¼Œè¿™é‡Œåªä½œä¸ºéƒ¨ç½²è¿‡ç¨‹çš„è®°å½•ã€‚

## github Pages
å‚è€ƒå®˜æ–¹ç½‘ç«™çš„GitHub Pages éƒ¨ç½²æ•™ç¨‹
1. è®¾ç½® `docs/.vuepress/config.js` ä¸­çš„ `base`ï¼Œæˆ‘è¿™é‡Œéœ€è¦å‘å¸ƒåˆ° https://linqing01007.github.io/vuepress-blog/ï¼Œæ‰€ä»¥å°†baseè®¾ç½®ä¸º `'/vuepress-blog/'`,æ³¨æ„åŒæ–œçº¿ä¸èƒ½çœç•¥ã€‚
2. ç”±äºæœ¬äººæ˜¯åœ¨windowsä¸Šè¿›è¡Œæ“ä½œçš„ï¼Œæ‰€ä»¥æ— æ³•æ‰§è¡Œå®˜æ–¹æ–‡æ¡£ä¸­çš„.shè„šæœ¬ï¼Œä½†ä»”ç»†çœ‹è„šæœ¬åšçš„äº‹æƒ…ï¼Œå¯ä»¥åˆ†ä¸ºï¼š
  - æ‰§è¡Œ `npm run docs:budil` ç”Ÿæˆé™æ€æ–‡ä»¶
  - ç„¶åå°†ç”Ÿæˆçš„é™æ€æäº¤åˆ°ä¸€ä¸ª(æ–°çš„)å°†è¦ç”¨æ¥éƒ¨ç½²çš„åˆ†æ”¯ä¸Šï¼Œè¿™é‡Œæ˜¯ master åˆ†æ”¯ã€‚
3. é™æ€æ–‡ä»¶æäº¤åˆ°åˆ†æ”¯åï¼Œç™»é™† githubï¼Œè¿›å…¥åˆ°ç›¸åº”ä»“åº“ï¼Œç„¶åè¿›å…¥åˆ° `Settings`ï¼Œç‚¹å‡»å·¦è¾¹çš„ `Pages`ã€‚
4. ç„¶åé€‰æ‹©åˆ†æ”¯ä»¥åŠæ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯ master åˆ†æ”¯ï¼Œ /(root)æ–‡ä»¶å¤¹ï¼Œå› ä¸º index.html æ˜¯æ”¾åœ¨æ ¹ç›®å½•ä¸‹çš„ã€‚
5. ç‚¹å‡» saveï¼Œè¿‡ä¸€ä¼šååˆ·æ–°é¡µé¢å°±èƒ½çœ‹åˆ° å‘å¸ƒæˆåŠŸçš„æç¤ºï¼Œç„¶åå°±å¯ä»¥è®¿é—®ä½ çš„é™æ€é¡µé¢äº†ã€‚

## è‡ªåŠ¨åŒ–éƒ¨ç½²
ä¸Šé¢ä»…ä»…æ˜¯éƒ¨ç½²æˆåŠŸäº†ï¼Œä½†æ˜¯æ¯å½“ä½ ä¿®æ”¹äº†æŸäº›å†…å®¹ä¹‹åéƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ build è„šæœ¬ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œç„¶åå•ç‹¬æäº¤åˆ° éƒ¨ç½²çš„åˆ†æ”¯ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦æœ‰ä¸€ä¸ªå·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆè¿™äº›äº‹æƒ…ï¼Œè¿™æ—¶å°±å¯ä»¥å€ŸåŠ© GitHub çš„ Actions æ¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆè¿™äº›äº‹æƒ…ã€‚

1. åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»º.gitub/workflows æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶å¤¹å†…åˆ›å»º master.yml æ–‡ä»¶ï¼Œæ–‡ä»¶åå¯ä»¥éšæ„ã€‚
2. åœ¨ master.yml æ–‡ä»¶ä¸­æ·»åŠ é…ç½®ï¼Œå…·ä½“æ¯ä¸€æ­¥éƒ½æœ‰æ³¨é‡Šã€‚
3. é…ç½®ä¸­æœ€åçš„ Deploy action å¯åœ¨github ä¸­æœç´¢åˆ°ï¼Œå¦‚éœ€å…¶ä»–æ›´å¤šactionï¼Œä¹Ÿå¯ä»¥ä¸Šgithubæœç´¢ã€‚
  - repository-name æŒ‡å®šä»“åº“å
  - branch éœ€è¦éƒ¨ç½²çš„åˆ†æ”¯ï¼Œè¿™é‡Œæ˜¯ master åˆ†æ”¯
  - folder mainåˆ†æ”¯ä¸­éœ€è¦æäº¤åˆ° master åˆ†æ”¯çš„ç›®å½•ï¼Œè¿™é‡Œæ˜¯æ‰“åŒ…åçš„é™æ€æ–‡ä»¶ç›®å½•ï¼Œå³ .doc/.vuepress/dist
  - ssh-key ä½¿ç”¨ssh-keyï¼Œé…ç½®ä»“åº“ä¸­çš„ssh-key å³å¯ã€‚
```yml
# æ ¸å¿ƒæ­¥éª¤
# 1. æŒ‡å®š ci/cdçš„è§¦å‘æ¡ä»¶
# 2. é…ç½®æˆ‘ä»¬çš„ä»»åŠ¡ -> æ­¥éª¤
# 3. å®‰è£…nodeä¾èµ– -> æ‹‰å–é¡¹ç›®ä»£ç  -> æ„å»ºäº§ç”Ÿdist -> å‘å¸ƒåˆ°github page æˆ–è€…æˆ‘ä»¬è‡ªå·±çš„webæœåŠ¡å™¨
name: CI

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the main branch

  # å½“ä»£ç è¢«pushåˆ°mainåˆ†æ”¯æ—¶è§¦å‘è¯¥workflow
  push:
    branches: [main]

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - uses: actions/checkout@v2
      - name: Use Node.js
        uses: actions/setup-node@v1
        with:
          node-version: "14.x"
      # ç¼“å­˜node_modulesï¼Œç”¨äºåŠ é€Ÿnodeçš„åç»­çš„æ„å»º
      - name: Cache node modules
        uses: actions/cache@v1
        id: cache
        with:
          path: node_nodules
          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
          restore-keys: |
            ${{ runner.os }}-node-
      - name: Install Dependencies
        if: steps.cache.outputs.cache-hit != 'true'
        run: npm i
      - name: Generate Pages
        run: |
          npm run docs:build

      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@4.1.4
        with:
          repository-name: linqing01007/vuepress-blog
          branch: master # The branch the action should deploy to.
          folder: ./docs/.vuepress/dist # The folder the action should deploy.
          ssh-key: ${{ secrets.xxx }}
```
