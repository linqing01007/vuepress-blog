---
{
  "order":1
}

---


# 同源策略
  同源策略是一种约定，是浏览器最核心也是最基本的安全功能。同源即“同协议，同域名，同端口”，集市两个不同域名指向同一ip也非同源，域名与对应ip也非同源。

  同源策略限制的几种行为：
  1. cookie，localStorage和indexDB等无法读取
  2. DOM和js对象无法获得
  3. Ajax请求不能发送

  跨域中的请求是能发出去，并且服务器也有响应的，但是不能获得返回的数据，会被浏览器拦截，所以提交表单可以（因为没有获得返回数据），但是Ajax请求不行。

  有三个标签可以跨域加载资源：** img **, ** src **, ** lingk **
  

## 常见的跨域场景
  | URL | 说明  | 是否允许通信|
  | --- | ----- | ----------- |
  | http://www.a.com/a.js<br>http://www.a.com/b.js | 同一域名，不同文件 | 允许 |
  | http://www.a.com/a.js<br>http://www.a.com:8000/b.js | 同域名，不同端口 | 不允许 |
  | http://www.a.com/a.js<br>https://www.a.com/b.js | 同域名，不同协议 | 不允许 |
  | http://www.a.com/a.js<br>http://127.0.0.1/b.js | 域名与对应ip | 不允许 |
  | http://www.a.com/a.js<br>http://x.a.com/b.js<br>http://a.com/c.js | 主域名相同，子域不同 | 不允许 |
  | http://www.a.com/a.js<br>http://www.b.com/b.js<br> | 域名不同 | 不允许 |

